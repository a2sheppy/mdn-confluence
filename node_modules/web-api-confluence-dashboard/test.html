<!DOCTYPE html>
<html>
  <head>
    <script src="node_modules/foam2/src/foam.js"></script>
    <script src="lib/web_apis/release.es6.js"></script>
    <script src="lib/grid_dao.es6.js"></script>
    <script src="lib/client/query_parser.es6.js"></script>
    <script>
      var releases = foam.json.parse([{"browserName":"Safari","browserVersion":"5.1.5","osName":"OSX","osVersion":"10.7.5","releaseDate":"2012-05-09T00:00:00.000Z"},{"browserName":"Safari","browserVersion":"6.0.5","osName":"OSX","osVersion":"10.7.5","releaseDate":"2012-07-25T00:00:00.000Z"},{"browserName":"Safari","browserVersion":"6.2.8","osName":"OSX","osVersion":"10.8.5","releaseDate":"2014-09-18T00:00:00.000Z"},{"browserName":"Safari","browserVersion":"7.1.8","osName":"OSX","osVersion":"10.9.5","releaseDate":"2014-09-19T00:00:00.000Z"},{"browserName":"Safari","browserVersion":"8.0.8","osName":"OSX","osVersion":"10.10.5","releaseDate":"2014-10-16T00:00:00.000Z"},{"browserName":"Chrome","browserVersion":"40.0.2214.93","osName":"OSX","osVersion":"10.11.6","releaseDate":"2015-01-20T00:00:00.000Z"},{"browserName":"Chrome","browserVersion":"40.0.2214.93","osName":"Windows","osVersion":"10.0","releaseDate":"2015-01-20T00:00:00.000Z"},{"browserName":"Chrome","browserVersion":"41.0.2272.76","osName":"OSX","osVersion":"10.11.6","releaseDate":"2015-03-03T00:00:00.000Z"},{"browserName":"Chrome","browserVersion":"41.0.2272.89","osName":"Windows","osVersion":"10.0","releaseDate":"2015-03-03T00:00:00.000Z"},{"browserName":"Chrome","browserVersion":"42.0.2311.135","osName":"Windows","osVersion":"10.0","releaseDate":"2015-04-14T00:00:00.000Z"},{"browserName":"Chrome","browserVersion":"42.0.2311.135","osName":"OSX","osVersion":"10.11.6","releaseDate":"2015-04-14T00:00:00.000Z"},{"browserName":"Chrome","browserVersion":"43.0.2357.65","osName":"OSX","osVersion":"10.11.6","releaseDate":"2015-05-19T00:00:00.000Z"},{"browserName":"Chrome","browserVersion":"43.0.2357.81","osName":"Windows","osVersion":"10.0","releaseDate":"2015-05-19T00:00:00.000Z"},{"browserName":"Chrome","browserVersion":"44.0.2403.89","osName":"Windows","osVersion":"10.0","releaseDate":"2015-07-21T00:00:00.000Z"},{"browserName":"Chrome","browserVersion":"44.0.2403.89","osName":"OSX","osVersion":"10.11.6","releaseDate":"2015-07-21T00:00:00.000Z"},{"browserName":"Chrome","browserVersion":"45.0.2454.85","osName":"OSX","osVersion":"10.11.6","releaseDate":"2015-09-01T00:00:00.000Z"},{"browserName":"Chrome","browserVersion":"45.0.2454.85","osName":"Windows","osVersion":"10.0","releaseDate":"2015-09-01T00:00:00.000Z"},{"browserName":"Chrome","browserVersion":"46.0.2490.71","osName":"Windows","osVersion":"10.0","releaseDate":"2015-10-13T00:00:00.000Z"},{"browserName":"Chrome","browserVersion":"46.0.2490.71","osName":"OSX","osVersion":"10.11.6","releaseDate":"2015-10-13T00:00:00.000Z"},{"browserName":"Edge","browserVersion":"13.10586","osName":"Windows","osVersion":"10.0","releaseDate":"2015-11-05T00:00:00.000Z"},{"browserName":"Chrome","browserVersion":"47.0.2526.73","osName":"Windows","osVersion":"10.0","releaseDate":"2015-12-01T00:00:00.000Z"},{"browserName":"Chrome","browserVersion":"47.0.2526.73","osName":"OSX","osVersion":"10.11.6","releaseDate":"2015-12-01T00:00:00.000Z"},{"browserName":"Chrome","browserVersion":"48.0.2564.97","osName":"Windows","osVersion":"10.0","releaseDate":"2016-01-20T00:00:00.000Z"},{"browserName":"Chrome","browserVersion":"48.0.2564.97","osName":"OSX","osVersion":"10.11.6","releaseDate":"2016-01-20T00:00:00.000Z"},{"browserName":"Chrome","browserVersion":"49.0.2623.75","osName":"Windows","osVersion":"10.0","releaseDate":"2016-03-02T00:00:00.000Z"},{"browserName":"Chrome","browserVersion":"49.0.2623.75","osName":"OSX","osVersion":"10.11.6","releaseDate":"2016-03-02T00:00:00.000Z"},{"browserName":"Firefox","browserVersion":"45.0","osName":"Windows","osVersion":"10.0","releaseDate":"2016-03-08T00:00:00.000Z"},{"browserName":"Firefox","browserVersion":"45.0","osName":"OSX","osVersion":"10.11","releaseDate":"2016-03-08T00:00:00.000Z"},{"browserName":"Safari","browserVersion":"9.1.3","osName":"OSX","osVersion":"10.11.6","releaseDate":"2016-03-22T00:00:00.000Z"},{"browserName":"Chrome","browserVersion":"50.0.2661.75","osName":"Windows","osVersion":"10.0","releaseDate":"2016-04-13T00:00:00.000Z"},{"browserName":"Chrome","browserVersion":"50.0.2661.75","osName":"OSX","osVersion":"10.11.6","releaseDate":"2016-04-13T00:00:00.000Z"},{"browserName":"Firefox","browserVersion":"46.0","osName":"OSX","osVersion":"10.11","releaseDate":"2016-04-26T00:00:00.000Z"},{"browserName":"Firefox","browserVersion":"46.0","osName":"Windows","osVersion":"10.0","releaseDate":"2016-04-26T00:00:00.000Z"},{"browserName":"Chrome","browserVersion":"51.0.2704.79","osName":"OSX","osVersion":"10.11.6","releaseDate":"2016-05-25T00:00:00.000Z"},{"browserName":"Chrome","browserVersion":"51.0.2704.79","osName":"Windows","osVersion":"10.0","releaseDate":"2016-05-25T00:00:00.000Z"},{"browserName":"Firefox","browserVersion":"47.0","osName":"Windows","osVersion":"10.0","releaseDate":"2016-06-07T00:00:00.000Z"},{"browserName":"Firefox","browserVersion":"47.0","osName":"OSX","osVersion":"10.11","releaseDate":"2016-06-07T00:00:00.000Z"},{"browserName":"Chrome","browserVersion":"52.0.2743.82","osName":"OSX","osVersion":"10.11.6","releaseDate":"2016-07-20T00:00:00.000Z"},{"browserName":"Chrome","browserVersion":"52.0.2743.82","osName":"Windows","osVersion":"10.0","releaseDate":"2016-07-20T00:00:00.000Z"},{"browserName":"Edge","browserVersion":"14.14393","osName":"Windows","osVersion":"10.0","releaseDate":"2016-08-02T00:00:00.000Z"},{"browserName":"Firefox","browserVersion":"48.0","osName":"OSX","osVersion":"10.11","releaseDate":"2016-08-02T00:00:00.000Z"},{"browserName":"Firefox","browserVersion":"48.0","osName":"Windows","osVersion":"10.0","releaseDate":"2016-08-02T00:00:00.000Z"},{"browserName":"Chrome","browserVersion":"53.0.2785.113","osName":"Windows","osVersion":"10.0","releaseDate":"2016-08-31T00:00:00.000Z"},{"browserName":"Chrome","browserVersion":"53.0.2785.89","osName":"OSX","osVersion":"10.11.6","releaseDate":"2016-08-31T00:00:00.000Z"},{"browserName":"Firefox","browserVersion":"49.0","osName":"OSX","osVersion":"10.11","releaseDate":"2016-09-20T00:00:00.000Z"},{"browserName":"Firefox","browserVersion":"49.0","osName":"Windows","osVersion":"10.0","releaseDate":"2016-09-20T00:00:00.000Z"},{"browserName":"Chrome","browserVersion":"54.0.2840.59","osName":"Windows","osVersion":"10.0","releaseDate":"2016-10-12T00:00:00.000Z"},{"browserName":"Chrome","browserVersion":"54.0.2840.59","osName":"OSX","osVersion":"10.11.6","releaseDate":"2016-10-12T00:00:00.000Z"},{"browserName":"Firefox","browserVersion":"50.0","osName":"Windows","osVersion":"10.0","releaseDate":"2016-11-15T00:00:00.000Z"},{"browserName":"Firefox","browserVersion":"50.0","osName":"OSX","osVersion":"10.11","releaseDate":"2016-11-15T00:00:00.000Z"},{"browserName":"Chrome","browserVersion":"55.0.2883.75","osName":"OSX","osVersion":"10.11.6","releaseDate":"2016-12-01T00:00:00.000Z"},{"browserName":"Chrome","browserVersion":"55.0.2883.75","osName":"Windows","osVersion":"10.0","releaseDate":"2016-12-01T00:00:00.000Z"},{"browserName":"Firefox","browserVersion":"51.0","osName":"Windows","osVersion":"10.0","releaseDate":"2017-01-24T00:00:00.000Z"},{"browserName":"Firefox","browserVersion":"51.0","osName":"OSX","osVersion":"10.11","releaseDate":"2017-01-24T00:00:00.000Z"},{"browserName":"Chrome","browserVersion":"56.0.2924.87","osName":"Windows","osVersion":"10.0","releaseDate":"2017-01-25T00:00:00.000Z"},{"browserName":"Chrome","browserVersion":"56.0.2924.76","osName":"OSX","osVersion":"10.11.6","releaseDate":"2017-01-25T00:00:00.000Z"},{"browserName":"Firefox","browserVersion":"52.0","osName":"OSX","osVersion":"10.11","releaseDate":"2017-03-07T00:00:00.000Z"},{"browserName":"Firefox","browserVersion":"52.0","osName":"Windows","osVersion":"10.0","releaseDate":"2017-03-07T00:00:00.000Z"},{"browserName":"Chrome","browserVersion":"57.0.2987.110","osName":"Windows","osVersion":"10.0","releaseDate":"2017-03-09T00:00:00.000Z"},{"browserName":"Chrome","browserVersion":"57.0.2987.98","osName":"OSX","osVersion":"10.11.6","releaseDate":"2017-03-09T00:00:00.000Z"},{"browserName":"Safari","browserVersion":"10.1.2","osName":"OSX","osVersion":"10.12.6","releaseDate":"2017-03-27T00:00:00.000Z"},{"browserName":"Edge","browserVersion":"15.15063","osName":"Windows","osVersion":"10.0","releaseDate":"2017-04-11T00:00:00.000Z"},{"browserName":"Chrome","browserVersion":"58.0.3029.81","osName":"OSX","osVersion":"10.11.6","releaseDate":"2017-04-19T00:00:00.000Z"},{"browserName":"Firefox","browserVersion":"53.0","osName":"OSX","osVersion":"10.11","releaseDate":"2017-04-19T00:00:00.000Z"},{"browserName":"Firefox","browserVersion":"53.0","osName":"Windows","osVersion":"10.0","releaseDate":"2017-04-19T00:00:00.000Z"},{"browserName":"Chrome","browserVersion":"58.0.3029.81","osName":"Windows","osVersion":"10.0","releaseDate":"2017-04-19T00:00:00.000Z"},{"browserName":"Chrome","browserVersion":"59.0.3071.86","osName":"OSX","osVersion":"10.11.6","releaseDate":"2017-06-05T00:00:00.000Z"},{"browserName":"Chrome","browserVersion":"59.0.3071.86","osName":"Windows","osVersion":"10.0","releaseDate":"2017-06-05T00:00:00.000Z"},{"browserName":"Firefox","browserVersion":"54.0","osName":"OSX","osVersion":"10.11","releaseDate":"2017-06-13T00:00:00.000Z"},{"browserName":"Firefox","browserVersion":"54.0","osName":"Windows","osVersion":"10.0","releaseDate":"2017-06-13T00:00:00.000Z"},{"browserName":"Chrome","browserVersion":"60.0.3112.78","osName":"Windows","osVersion":"10.0","releaseDate":"2017-07-25T00:00:00.000Z"},{"browserName":"Chrome","browserVersion":"60.0.3112.78","osName":"OSX","osVersion":"10.11.6","releaseDate":"2017-07-25T00:00:00.000Z"},{"browserName":"Firefox","browserVersion":"55.0","osName":"Windows","osVersion":"10.0","releaseDate":"2017-08-08T00:00:00.000Z"},{"browserName":"Firefox","browserVersion":"55.0","osName":"OSX","osVersion":"10.11","releaseDate":"2017-08-08T00:00:00.000Z"},{"browserName":"Chrome","browserVersion":"61.0.3163.79","osName":"OSX","osVersion":"10.11.6","releaseDate":"2017-09-05T00:00:00.000Z"},{"browserName":"Chrome","browserVersion":"61.0.3163.79","osName":"Windows","osVersion":"10.0","releaseDate":"2017-09-05T00:00:00.000Z"},{"browserName":"Safari","browserVersion":"11.0","osName":"OSX","osVersion":"10.12.6","releaseDate":"2017-09-19T00:00:00.000Z"},{"browserName":"Edge","browserVersion":"16.16299","osName":"Windows","osVersion":"10.0","releaseDate":"2017-09-26T00:00:00.000Z"},{"browserName":"Firefox","browserVersion":"56.0","osName":"Windows","osVersion":"10.0","releaseDate":"2017-09-28T00:00:00.000Z"},{"browserName":"Firefox","browserVersion":"56.0","osName":"OSX","osVersion":"10.11","releaseDate":"2017-09-28T00:00:00.000Z"},{"browserName":"Chrome","browserVersion":"62.0.3202.62","osName":"OSX","osVersion":"10.13.0","releaseDate":"2017-10-17T00:00:00.000Z"},{"browserName":"Chrome","browserVersion":"62.0.3202.62","osName":"Windows","osVersion":"10.0","releaseDate":"2017-10-17T00:00:00.000Z"}],   org.chromium.apis.web.Release);
    </script>
    <script>
      foam.CLASS({
        package: 'org.chromium.apis.web',
        name: 'QueryController',
        extends: 'foam.u2.View',
        implements: ['foam.mlang.Expressions'],

        requires: [
          'foam.u2.search.TextSearchView',
          'org.chromium.apis.web.GridDAO',
          'org.chromium.apis.web.GridRow',
          'org.chromium.parse.GridQueryParser',
          'org.chromium.parse.ReleaseApiGridQueryInterpreter',
        ],
        exports: [
          'gridDAO',
          'selectedCols',
        ],

        properties: [
          {
            class: 'foam.dao.DAOProperty',
            name: 'gridDAO',
            factory: function() {
              return this.GridDAO.create({
                cols: releases,
              });
            },
          },
          {
            class: 'FObjectArray',
            of: 'org.chromium.apis.web.Release',
            name: 'selectedCols',
            factory: function() {
              return [releases[0], releases[1], releases[releases.length - 1]];
            },
          },
          {
            name: 'predicate',
            factory: function() { return this.TRUE; },
          },
        ],

        methods: [
          function initE() {
            this.add(this.TextSearchView.create({
              queryParser: this.GridQueryParser.create({
                of: this.GridRow,
                interpreter: this.ReleaseApiGridQueryInterpreter.create(),
              }),
              predicate$: this.predicate$,
              of: this.GridRow,
              richSearch: true,
              keywordSearch: true,
            })).add(this.predicate$.map(p => p.toString()));
          },
        ],
      });
    </script>
  </head>
  <body>
    <script>
      org.chromium.apis.web.QueryController.create().write(document);
    </script>
  </body>
</html>
